---
interface Props {
  categoria: string;
  titulo: string;
  resumo: string;
  data: any;
  link: string;
  imagem: string;
}

const { categoria, titulo, resumo, data, link, imagem } = Astro.props;

// Tratamento simples caso a data venha como objeto (para evitar erros de renderização)
const dataFormatada = data instanceof Date 
    ? data.toLocaleDateString('pt-BR') 
    : data;
---

<a href={link} class="group flex flex-col bg-white dark:bg-white/5 rounded-lg shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-white/10 h-full">
  
  {/* Container da Imagem com as bordas discretas puxadas do pai (overflow-hidden) */}
  <div class="relative h-48 md:h-56 overflow-hidden bg-gray-100">
    <img 
      src={imagem} 
      alt={titulo} 
      loading="lazy"
      class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
    />
    
    {/* Tag da Categoria: Mudada para azul (navy) e quadrada (rounded-sm) */}
    <div class="absolute top-4 left-4 z-10">
      <span class="inline-block bg-navy-base text-white text-[10px] font-black uppercase tracking-widest px-3 py-1.5 rounded-sm shadow-md">
        {categoria}
      </span>
    </div>
  </div>

  <div class="p-6 md:p-8 flex flex-col flex-grow">
    
    {/* Data com a bolinha vermelha discreta */}
    <div class="flex items-center gap-2 mb-3">
        <span class="w-1.5 h-1.5 rounded-full bg-red-base/60"></span>
        <time class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">
            {dataFormatada}
        </time>
    </div>

    {/* Título mais jornalístico */}
    <h3 class="text-lg md:text-xl font-black text-navy-dark dark:text-white leading-tight mb-3 group-hover:text-red-base transition-colors line-clamp-3 uppercase">
      {titulo}
    </h3>

    {/* Resumo */}
    <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed line-clamp-3 mb-6">
      {resumo}
    </p>

    {/* LER MAIS fixo no rodapé do card */}
    <div class="mt-auto flex items-center gap-2 text-red-base text-[10px] font-black uppercase tracking-widest">
      Ler Mais 
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-3 h-3 group-hover:translate-x-1 transition-transform">
        <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
      </svg>
    </div>

  </div>
</a>